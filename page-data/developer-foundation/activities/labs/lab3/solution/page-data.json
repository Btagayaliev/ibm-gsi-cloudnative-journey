{"componentChunkName":"component---src-pages-developer-foundation-activities-labs-lab-3-solution-mdx","path":"/developer-foundation/activities/labs/lab3/solution/","result":{"pageContext":{"frontmatter":{"title":"Kubernetes Lab 3 - Manage Multiple Containers"},"relativePagePath":"/developer-foundation/activities/labs/lab3/solution.mdx","titleType":"page","MdxNode":{"id":"d426acfe-0982-5a37-9b1b-5ea90f82c01e","children":[],"parent":"0caf77ed-7c3b-5626-8422-9df5be6870c6","internal":{"content":"---\ntitle: Kubernetes Lab 3 - Manage Multiple Containers\n---\n\n## Solution\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: vader-service-ambassador-config\ndata:\n  haproxy.cfg: |-\n    global\n        daemon\n        maxconn 256\n\n    defaults\n        mode http\n        timeout connect 5000ms\n        timeout client 50000ms\n        timeout server 50000ms\n\n    listen http-in\n        bind *:80\n        server server1 127.0.0.1:8775 maxconn 32\n```\n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: vader-service\nspec:\n  containers:\n  - name: millennium-falcon\n    image: ibmcase/millennium-falcon:1\n  - name: haproxy-ambassador\n    image: haproxy:1.7\n    ports:\n    - containerPort: 80\n    volumeMounts:\n    - name: config-volume\n      mountPath: /usr/local/etc/haproxy\n  volumes:\n  - name: config-volume\n    configMap:\n      name: vader-service-ambassador-config\n``` \n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: busybox\nspec:\n  containers:\n  - name: myapp-container\n    image: radial/busyboxplus:curl\n    command: ['sh', '-c', 'while true; do sleep 3600; done']\n```\n\n```bash\nkubectl exec busybox -- curl $(kubectl get pod vader-service -o=jsonpath='{.status.podIP}'):80\n```\n","type":"Mdx","contentDigest":"23e78a207a0a0340161d450e57906525","counter":809,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Kubernetes Lab 3 - Manage Multiple Containers"},"exports":{},"rawBody":"---\ntitle: Kubernetes Lab 3 - Manage Multiple Containers\n---\n\n## Solution\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: vader-service-ambassador-config\ndata:\n  haproxy.cfg: |-\n    global\n        daemon\n        maxconn 256\n\n    defaults\n        mode http\n        timeout connect 5000ms\n        timeout client 50000ms\n        timeout server 50000ms\n\n    listen http-in\n        bind *:80\n        server server1 127.0.0.1:8775 maxconn 32\n```\n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: vader-service\nspec:\n  containers:\n  - name: millennium-falcon\n    image: ibmcase/millennium-falcon:1\n  - name: haproxy-ambassador\n    image: haproxy:1.7\n    ports:\n    - containerPort: 80\n    volumeMounts:\n    - name: config-volume\n      mountPath: /usr/local/etc/haproxy\n  volumes:\n  - name: config-volume\n    configMap:\n      name: vader-service-ambassador-config\n``` \n\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: busybox\nspec:\n  containers:\n  - name: myapp-container\n    image: radial/busyboxplus:curl\n    command: ['sh', '-c', 'while true; do sleep 3600; done']\n```\n\n```bash\nkubectl exec busybox -- curl $(kubectl get pod vader-service -o=jsonpath='{.status.podIP}'):80\n```\n","fileAbsolutePath":"/Users/bwoolf/dev/git/ibm-gsi-ecosystem/ibm-gsi-cloudnative-journey/src/pages/developer-foundation/activities/labs/lab3/solution.mdx"}}}}